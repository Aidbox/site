<html><head><meta content="initial-scale=1, maximum-scale=1" name="viewport" /><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Exo+2:400,100,100italic,200,200italic,300,300italic,400italic,500,900italic,500italic,600,600italic,700,700italic,800,800italic,900" rel="stylesheet" type="text/css" /><style type="text/css">body {
  font-family: 'Exo 2';
}</style></head><body><div id="navigation"><style type="text/css">#navigation {
  position: relative;
  padding-top: 27.0px;
  padding-left: 0px;
  padding-bottom: 27.0px;
  padding-right: 0px;
  margin: 0;
  color: #2B4961;
  background-color: #B4E1DA;
}

#navigation .desctop {
  display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
  -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between;
  -webkit-box-align: baseline;
    -webkit-align-items: baseline;
    -ms-flex-align: baseline;
    align-items: baseline;
}

#navigation .navbar-header {
  display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
  -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between;
  -webkit-box-align: center;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
}

#navigation .icon-bar {
  background-color: #474747;
}

#navigation .brand {
  -webkit-box-flex: 1;
     -webkit-flex-grow: 1;
         -ms-flex-positive: 1;
             flex-grow: 1;
}

#navigation .brand a {
  text-transform: uppercase;
  color: #fff;
  font-size: 27.0px;
  line-height: 27.0px;
}

#navigation .brand a:hover {
  text-decoration: none;
}

#navigation ul {
  margin-bottom: 0;
}

#navigation ul li a {
  color: #2B4961;
  font-size: 18px;
  line-height: 36px;
  padding-top: 18px;
  padding-left: 10px;
  padding-bottom: 18px;
  padding-right: 10px;
}

#navigation .sign-in {
  border-width: 2px;
  padding-bottom: 5.3999999999999995px;
  border-color: #2B4961;
  border-style: solid;
  margin-left: 18px;
  padding-right: 22.0px;
  border-radius: 20px;
  color: #2B4961;
  padding-left: 22.0px;
  padding-top: 5.3999999999999995px;
}</style><style type="text/css">@media (min-width: 479px) {

  
  
  #navigation .mobile {
    display: none;
  }

}</style><style type="text/css">@media (max-width: 480px) {

  #navigation {
    padding: 15px 0 0;
  }
  
  #navigation .brand {
    padding-left: 15px;
  }
  
  #navigation ul {
    margin-bottom: 10px;
    display: none;
  }
  
  #navigation #group:checked + ul {
    display: block !important;
  }
  
  #navigation .sign-in {
    margin-left: 10px;
  }
  
  #navigation .desctop {
    display: none;
  }
  
  #navigation .sign-in-li-item {
    margin-top: 10px;
  }
  
  #navigation li {
    width: 100%;
  }

}</style><div class="container navigation desctop"><div class="brand"><a href="/index">AIDBOX</a></div><ul class="list-inline"><li><a href="/site/features.html">Features</a></li><li><a href="/site/docs/Overview.html">Documentation</a></li></ul><a class="sign-in" href="https://aidbox.io/ui">SIGN IN</a></div><div class="container navigation mobile"><div class="navbar-header"><div class="brand"><a href="/index">AIDBOX</a></div><label for="group"><div class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div></label></div><input class="hidden" id="group" type="checkbox" /><ul class="list-inline"><li><a href="/site/features.html">Features</a></li><li><a href="/site/docs/Overview.html">Documentation</a></li><li class="sign-in-li-item"><a class="sign-in" href="https://aidbox.io/ui">SIGN IN</a></li></ul></div></div><div class="container"><div class="row"><nav class="col-sm-2" id="submenu"><style type="text/css">#submenu {
  margin-top: 18px;
}</style><ul class="nav"><li><a href="/site/docs/Overview.html">Overview</a></li><li><a href="/site/docs/Getting_Started.html">Getting Started</a></li><li><a href="/site/docs/box_lifecycle.html">Box Lifecycle</a></li><li><a href="/site/docs/aidbox_CLI.html">Aidbox CLI</a></li><li><a href="/site/docs/Tutorial.html">Sample Application</a></li><li><a href="/site/docs/Users_and_Groups.html">Users and Groups</a></li><li><a href="/site/docs/Security.html">Security</a></li><li><a href="/site/docs/Clients.html">Clients</a></li><li><a href="/site/docs/Developer_Tools.html">Developer Tools</a></li><li><a href="/site/docs/Queues.html">Queues</a></li><li><a href="/site/docs/Logs.html">Logs</a></li></ul></nav><div class="col-sm-10"><style type="text/css">code {
  white-space: pre;
  display: block;
}</style><div class="markdown"><h2>Aidbox supports 3 types of Oauth authorization:</h2><ol><li><strong>Implicit</strong> for browser-based or mobile apps</li><li><strong>Authorization Code</strong> for apps running on a web server</li><li><strong>Client credentials</strong> for application access</li></ol><p>There is available by default <strong>implicit</strong> client with id <strong>site</strong>. You can view a list of available clients, add new or edit existing clients on the <strong>Client</strong> page in the box <a href="/dashboard.html#/">dashboard</a>. See <a href="https://tools.ietf.org/html/rfc6749">RFC6749</a> for more information about OAuth 2.0 authorization.</p><h3>Implicit</h3><p>Let's check that there is existing default client of type implicit and with the client_id = site.</p><ol><li>Open the Clients tab.</li><li>Select a record named <strong>site</strong>.</li><li>Check that the client<em>id is </em><em>site</em>_.</li></ol><p>In order to test implicit authorization, let's add a new policy that will be checking for implicit client with the client_id = site.</p><pre><code>{
 "required" : [ "client" ],
 "properties" : {
   "client" : {
     "type" : "object",
     "properties" : {
       "client_id" : {
         "constant" : "site"
       }
     }
   }
 }
}
</code></pre><ul><li>Deploy your aidbox and after receiving a message about successful deploy, visit your app at the URL generated from the box name - e.g. <a href="https://mysuperapp.aidbox.io">https://mysuperapp.aidbox.io</a> for the <strong>mysuperapp</strong> box.</li><li>Ensure that you have added a user for the box (see <a href="http://aidbox.github.io/site/docs/Users_and_Groups.html">http://aidbox.github.io/site/docs/Users_and_Groups.html</a> for instructions). E.g. a user with login = <a href="mailto:boxuser1@gmail.com"></a>.</li><li>Click the Sign in link.</li><li>You will see a login form labeled <strong>Allow site to use your account</strong> where <strong>site</strong> is the name of your client.</li><li>Log in with the box user credentials (not your aidbox account credentials).</li><li>You will see Patients list page.</li></ul><h3>Authorization Code</h3><p>In order to test the Authorization Code type of authorization, you will need a tool for testing RESTful requests. For example <a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=en">Postman</a>.</p><p>Let's add a new client with the Authorization Code type.</p><ol><li>Open the Clients tab.</li><li>Click the plus button</li><li>Fill in the fields:</li></ol><ul><li>Name = auth_code</li><li>Client Id = auth_code123</li><li>Client Secret = pwd</li><li>Redirect Uri = localhost, www.getpostman.com</li></ul><ol><li>Click the Create button</li></ol><p>Let's add a new policy that would allow an access for all clients.</p><ol><li>Open the Policies tab;</li><li>Click the plus button;</li><li>Fill in the fields Id, Title, Type, Policy;</li><li>Click the Create button.</li></ol><pre><code>{
  "required" : [ "client" ],
  "properties" : {
    "client" : {
      "type" : "object"
    }
  }
}
</code></pre><ul><li>Open Postman.</li><li>Select Type = OAuth 2.0</li><li>GET = <a href="https://yourboxname.aidbox.io/users">https://yourboxname.aidbox.io/users</a></li><li>Fill in the following fields:</li><li><p>Auth URL = <a href="https://yourboxname.aidbox.io/oauth/authorize">https://yourboxname.aidbox.io/oauth/authorize</a></p></li><li>Access Token URL = <a href="https://yourboxname.aidbox.io/oauth/token">https://yourboxname.aidbox.io/oauth/token</a></li><li>Client ID = auth_code123</li><li>Client Secret = pwd</li><li>Grant Type = Authorization Code</li><li><p>Click the Request Token button.</p></li><li>You will see a login form labeled <em><em>Allow auth<em>code to use your account</em></em> where </em><em>auth<em>code</em></em> is the name of your client.</li><li>Log in with the box user credentials (not your aidbox account credentials).</li><li>Click on Token Name in order to add the token to the request URL.</li><li>Click the Send button.</li><li>Check the request body below.</li><li>You will see something like:</li></ul><pre><code>[
  {
    "id": 1,
    "status": null,
    "email": "boxuser1@gmail.com",
    "data": "null",
    "groups": null,
    "group-ids": []
  }
]
</code></pre><h3>Client credentials</h3><p>Let's add a new client with the Client credentials type.</p><ol><li>Open the Clients tab.</li><li>Click the plus button</li><li>Fill in the fields:</li></ol><ul><li>Name = client_credentials</li><li>Client Id = client_credentials123</li><li>Client Secret = secret</li><li>Redirect Uri = localhost, www.getpostman.com</li></ul><ol><li>Click the Create button</li></ol><p>Ensure that there is the policy:</p><pre><code>{
  "required" : [ "client" ],
  "properties" : {
    "client" : {
      "type" : "object"
    }
  }
}
</code></pre><ul><li>Open Postman.</li><li>Select Type = OAuth 2.0</li><li>GET = <a href="https://yourboxname.aidbox.io/users">https://yourboxname.aidbox.io/users</a></li></ul><p>Fill in the following fields:</p><ul><li>Auth URL = <a href="https://yourboxname.aidbox.io">https://yourboxname.aidbox.io</a></li><li>Access Token URL = <a href="https://yourboxname.aidbox.io/oauth/token">https://yourboxname.aidbox.io/oauth/token</a></li><li>Client ID = client_credentials123</li><li>Client Secret = secret</li><li>Grant Type = Client Credentials</li><li><p>Click the Request Token button.</p></li><li>Click on Token Name in order to add the token to the request URL.</li><li>Click the Send button.</li><li>Check the request body below.</li></ul><p>You will see something like:</p><pre><code>[
  {
    "id": 1,
    "status": null,
    "email": "boxuser1@gmail.com",
    "data": "null",
    "groups": null,
    "group-ids": []
  }
]
</code></pre></div></div></div></div></body></html>